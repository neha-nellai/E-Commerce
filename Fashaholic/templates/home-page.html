{% extends 'base.html' %}
{% block content %}
{% load static %}
{% load pagination %}

  <main>

    <div class="container">

      <div id="carousel-example-1z" class="carousel slide carousel-fade pt-2" data-ride="carousel">

        <!--Indicators-->
        <ol class="carousel-indicators">
          <li data-target="#carousel-example-1z" data-slide-to="0" class="active"></li>
          <li data-target="#carousel-example-1z" data-slide-to="1"></li>
          <li data-target="#carousel-example-1z" data-slide-to="2"></li>
        </ol>
        <!--/.Indicators-->

        <!--Slides-->
        <div class="carousel-inner" role="listbox" aria-label="Carousel">

          <!--First slide-->
          <div class="carousel-item active" role="option">
            <div class="view" style="background-image: url('https://centralandme.com/wp-content/uploads/2019/09/tritiya-tilottama-hero-img.png'); background-repeat: no-repeat; background-size: cover;">

              <!-- Mask & flexbox options-->
              <div class="mask d-flex justify-content-end align-items-center">

                <!-- Content -->
                <div class="text-center red-text mx-5 wow fadeIn">
                  <h1 class="mb-4">
                    <strong>Fashaholic</strong><br><strong>Festive</strong><br><strong>Collection</strong>
                  </h1>

                  <p style="font-size: 30px">
                    <strong>Upto 50% off</strong>
                  </p>

                </div>
                <!-- Content -->

              </div>
              <!-- Mask & flexbox options-->

            </div>
          </div>
          <!--/First slide-->

          <!--Second slide-->
          <div class="carousel-item" role="option">
            <div class="view" style="background-image: url('https://img1.exportersindia.com/product_images/bc-full/dir_115/3442723/kids-wear-garment-1693584.jpg'); background-repeat: no-repeat; background-size: cover;">

              <!-- Mask & flexbox options-->
              <div class="mask d-flex justify-content-center align-items-top">

                <!-- Content -->
                <div class="text-center black-text mx-5 wow fadeIn">
                  <h1 class="mb-4">
                    <strong>Fashaholic Kid's collection Min. 40% off</strong>
                  </h1>
                </div>
                <!-- Content -->

              </div>
              <!-- Mask & flexbox options-->
            </div>
          </div>
          <!--/Second slide-->

          <!--Third slide-->
          <div class="carousel-item" role="option">
            <div class="view" style="background-image: url('https://t3.ftcdn.net/jpg/03/20/68/66/360_F_320686681_Ur6vdYQgDC9WiijiVfxlRyQffxOgfeFz.jpg'); background-repeat: no-repeat; background-size: cover;">

              <!-- Mask & flexbox options-->
              <div class="mask d-flex justify-content-end align-items-center">

                <!-- Content -->
                <div class="text-center white-text mx-5 wow fadeIn">
                  <h1 class="mb-4">
                    <strong>Fashaholic</strong>
                  </h1>

                  <p style="font-size: 40px">
                    <strong>Shop Till you DROP SALE!</strong>
                  </p>

                  <p class="mb-4 d-none d-md-block" style="font-size: 30px">
                    <strong>Best deals on the Best Brands</strong>
                  </p>

                </div>
                <!-- Content -->

              </div>
              <!-- Mask & flexbox options-->

            </div>
          </div>
          <!--/Third slide-->

        </div>
        <!--/.Slides-->

        <!--Controls-->
        <a class="carousel-control-prev" href="#carousel-example-1z" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-label="Previous slide" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carousel-example-1z" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-label="Next slide" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
        <!--/.Controls-->

      </div>

      {% include 'category.html' %}

      <!--Section: Products full list-->
      <section class="text-center mb-4">

        <!--Grid row-->
        <div class="row wow fadeIn">
            {% for item in object_list %}
          <div class="col-lg-3 col-md-6 mb-4">

            <div class="card" style = "height:420px; object-fit:cover; object-position: top;">
              <div class="view overlay">
                <img src="{{item.item_image.url}}" class="card-img-top"
                  alt="">
                <a href="{{item.get_absolute_url}}">
                  <div class="mask rgba-white-slight"></div>
                </a>
              </div>
              <div class="card-body text-center">
                <a href="{{item.get_absolute_url}}" class="dark-grey-text">
                  <h6>{{item.item_category}}</h6>
                </a>
                <h6>
                  <strong>
                    <a href="{{item.get_absolute_url}}" class="dark-grey-text">{{item.item_name}}</a>
                  </strong>
                </h6>

                <p class="font-weight-bold blue-text">
                  <strong>{{item.price}}</strong>
                </p>

              </div>

            </div>

          </div>
          {% endfor %}
          {% if object_list.count == 0 %}
          <div>
            <h1 style="text-align: center;">No items found</h1>
          </div>
          {% endif %}
      </div>
      </section>
      <!--Section: Products full list-->

      <!--Pagination-->
      {% if is_paginated %}

      {% if page_obj.has_previous %}
        <a class="btn btn-outline-dark mb-4" href="?page=1">First</a>
        <a class="btn btn-outline-dark mb-4" href="?page={{ page_obj.previous_page_number }}">Previous</a>
      {% endif %}

      {% for num in page_obj.paginator.page_range %}
        {% if page_obj.number == num %}
          <a class="btn btn-dark mb-4" href="?page={{ num }}">{{ num }}</a>
        {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
          <a class="btn btn-outline-dark mb-4" href="?page={{ num }}">{{ num }}</a>
        {% endif %}
      {% endfor %}

      {% if page_obj.has_next %}
        <a class="btn btn-outline-dark mb-4" href="?page={{ page_obj.next_page_number }}">Next</a>
        <a class="btn btn-outline-dark mb-4" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
      {% endif %}

    {% endif %}
      <!--Pagination-->

    <!--Trending products recommendations-->
    <hr style="height:10px;border:none;color:#333;background-color:#333;" />
    <h1 align="center">TRENDING</h1>
    <hr style="height:10px;border:none;color:#333;background-color:#333;" />

    <!--Section: Trending products list-->
    <section class="text-center mb-4">

      <!--Grid row-->
      <div class="row wow fadeIn">
          {% for item in trending_rec %}
        <div class="col-lg-3 col-md-6 mb-4">

          <div class="card" style = "height:420px; object-fit:cover; object-position: top;">
            <div class="view overlay">
              <img src="{{item.item_image.url}}" class="card-img-top"
                alt="">
              <a href="{{item.get_absolute_url}}">
                <div class="mask rgba-white-slight"></div>
              </a>
            </div>
            <div class="card-body text-center">
              <a href="{{item.get_absolute_url}}" class="dark-grey-text">
                <h6>{{item.item_category}}</h6>
              </a>
              <h6>
                <strong>
                  <a href="{{item.get_absolute_url}}" class="dark-grey-text">{{item.item_name}}</a>
                </strong>
              </h6>

              <p class="font-weight-bold blue-text">
                <strong>{{item.price}}</strong>
              </p>

            </div>

          </div>

        </div>
        {% endfor %}
        {% if object_list.count == 0 %}
        <div>
          <h1 style="text-align: center;">No items found</h1>
        </div>
        {% endif %}
    </div>
    </section>
    <!--Section: Trending products list-->
    <!--Trending products recommendations-->

    <!--Popular products recommendations-->
    <hr style="height:10px;border:none;color:#333;background-color:#333;" />
    <h1 align="center">POPULAR</h1>
    <hr style="height:10px;border:none;color:#333;background-color:#333;" />

    <!--Section: Popular products list-->
    <section class="text-center mb-4">

      <!--Grid row-->
      <div class="row wow fadeIn">
          {% for item in popular_rec %}
        <div class="col-lg-3 col-md-6 mb-4">

          <div class="card" style = "height:420px; object-fit:cover; object-position: top;">
            <div class="view overlay">
              <img src="{{item.item_image.url}}" class="card-img-top"
                alt="">
              <a href="{{item.get_absolute_url}}">
                <div class="mask rgba-white-slight"></div>
              </a>
            </div>
            <div class="card-body text-center">
              <a href="{{item.get_absolute_url}}" class="dark-grey-text">
                <h6>{{item.item_category}}</h6>
              </a>
              <h6>
                <strong>
                  <a href="{{item.get_absolute_url}}" class="dark-grey-text">{{item.item_name}}</a>
                </strong>
              </h6>

              <p class="font-weight-bold blue-text">
                <strong>{{item.price}}</strong>
              </p>

            </div>

          </div>

        </div>
        {% endfor %}
        {% if object_list.count == 0 %}
        <div>
          <h1 style="text-align: center;">No items found</h1>
        </div>
        {% endif %}
    </div>
    </section>
    <!--Section: Popular products list-->
    <!--Popular products recommendations-->


    <!--Recommendations for particular user-->
    {% if request.user.is_authenticated %}

    {% if rec|length > 0 %}

    <hr style="height:10px;border:none;color:#333;background-color:#333;" />
    <h1 align="center">RECOMMENDATIONS FOR YOU</h1>
    <hr style="height:10px;border:none;color:#333;background-color:#333;" />

      <!--Section: User recommendation products list-->
      <section class="text-center mb-4">

        <!--Grid row-->
        <div class="row wow fadeIn">
            {% for item in rec %}
          <div class="col-lg-3 col-md-6 mb-4">

            <div class="card" style = "height:420px; object-fit:cover; object-position: top;">
              <div class="view overlay">
                <img src="{{item.item_image.url}}" class="card-img-top"
                  alt="">
                <a href="{{item.get_absolute_url}}">
                  <div class="mask rgba-white-slight"></div>
                </a>
              </div>
              <div class="card-body text-center">
                <a href="{{item.get_absolute_url}}" class="dark-grey-text">
                  <h6>{{item.item_category}}</h6>
                </a>
                <h6>
                  <strong>
                    <a href="{{item.get_absolute_url}}" class="dark-grey-text">{{item.item_name}}</a>
                  </strong>
                </h6>

                <p class="font-weight-bold blue-text">
                  <strong>{{item.price}}</strong>
                </p>

              </div>

            </div>

          </div>
          {% endfor %}
          {% if object_list.count == 0 %}
          <div>
            <h1 style="text-align: center;">No items found</h1>
          </div>
          {% endif %}
      </div>
      </section>
      {% endif %}
    {% endif %}
    <!--Section: User recommendation products list-->
   <!--Recommendations for particular user-->

    </div>
  </main>

{% endblock %}
